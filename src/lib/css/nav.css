/**
 * Copyright 2019 Benjamin Blais
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 */

/* Animation for the ripple */
@keyframes dropRipple {
	0% {
		opacity: 1;
		transform: scale(1);
	}

	20% {
		opacity: 0;
		transform: scale(3);
	}
}

nav {
	text-align: center;
}

nav label {
	display: flex;
	flex-direction: column-reverse;
}

nav input[type="checkbox"] {
	opacity: 0;
	height: 1px;
	margin: 0;
	padding: 0;
}

nav input[type="checkbox"]:checked::before {
	transform: rotate(180deg);
}

nav input[type="checkbox"]:checked ~ p:not(:last-of-type) {
	border-width: 1px;
	border-style: solid;
	border-bottom: none;
	border-image: var(--divider-gradient) 5;
}

nav input[type="checkbox"]:checked ~ p {
	max-height: 3em;
}

nav p {
	/* Layout */
	line-height: 2em;
	overflow: hidden;
	padding: 0;

	max-height: 0;
	transition: max-height 0.5s ease-in-out;

	/* Font */
	font-family: var(--header-font);
}

nav a {
	font-family: var(--header-font);
}

nav a:hover {
	color:unset;
}

nav a:hover::after {
	content: none;
}

nav p.nav-arrow {
	max-height: unset;
	overflow: visible;
}

nav p.nav-arrow span {
	/* Font */
	font-size: 1.5em;
	line-height: 1.5em;

	/* Display */
	display: inline-block;
	position: relative;
	height: 1.5em;
	width: 1.5em;

	transform: rotate(0deg);
	transition: transform 0.1s linear;
}

/* Rotate the nav arrow when we open the dropdown */
nav input[type="checkbox"]:checked ~ p.nav-arrow span {
	transform: rotate(180deg);
}

/* Focus for the nav checkbox */
nav input[type="checkbox"]:focus ~ p.nav-arrow {
	outline: var(--outline);
}

nav p.nav-arrow span::after {
	content: '';

	/* Positioning, should be on top of span */
	position: absolute;
	display: block;
	z-index: 1;
	margin: auto;
	top: 0;
	left: 0;

	/*Animation values, the ripple will be invisible*/
	opacity: 0;
	transform: scale(3);
	animation: dropRipple 5s ease-out 1s infinite normal forwards;

	/* Sizing */
	height: 100%;
	width: 100%;

	/* Ripple Shadow */
	border-radius: 0.75em;
	box-shadow: 0 0 0.1em 0.2em var(--lighten);
}

/*Hide the ripple when the dropdown is open*/
nav input[type="checkbox"]:checked ~ p.nav-arrow span::after {
	display: none;
	animation: none;
}